

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z43R9PWW0B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-Z43R9PWW0B');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Examples &mdash; pygeohash 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=e68397dc" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="_static/dark_mode_css/dark.css?v=70edf1c7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=af2ce170"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="_static/dark_mode_js/default_dark.js?v=fd565c74"></script>
      <script src="_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api.html" />
    <link rel="prev" title="Type System" href="types.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pygeohash
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-is-pygeohash">What is PyGeoHash?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#why-use-pygeohash">Why Use PyGeoHash?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#use-cases">Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#project-history">Project History</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#additional-resources">Additional Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Geohash Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#what-is-a-geohash">What is a Geohash?</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#how-geohashing-works">How Geohashing Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#visual-representation">Visual Representation</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#precision-and-cell-size">Precision and Cell Size</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#properties-of-geohashes">Properties of Geohashes</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#edge-cases-and-limitations">Edge Cases and Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#geohash-bounding-boxes">Geohash Bounding Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#geohash-vs-other-geocoding-systems">Geohash vs. Other Geocoding Systems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#basic-operations">Basic Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="usage.html#encoding-coordinates-to-geohash">Encoding Coordinates to Geohash</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#decoding-geohash-to-coordinates">Decoding Geohash to Coordinates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#working-with-geohash-precision">Working with Geohash Precision</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#calculating-distances">Calculating Distances</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#finding-adjacent-geohashes">Finding Adjacent Geohashes</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#bounding-box-operations">Bounding Box Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="usage.html#checking-if-a-point-is-within-a-box">Checking if a Point is Within a Box</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#checking-if-bounding-boxes-intersect">Checking if Bounding Boxes Intersect</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#finding-geohashes-in-a-bounding-box">Finding Geohashes in a Bounding Box</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#practical-example-geospatial-querying">Practical Example: Geospatial Querying</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#statistical-functions">Statistical Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#practical-examples">Practical Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="usage.html#location-based-search">Location-Based Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#geofencing">Geofencing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#visualization">Visualization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="usage.html#plotting-a-single-geohash">Plotting a Single Geohash</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#plotting-multiple-geohashes">Plotting Multiple Geohashes</a></li>
<li class="toctree-l3"><a class="reference internal" href="usage.html#creating-interactive-maps">Creating Interactive Maps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#id1">Performance Considerations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="types.html">Type System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="types.html#core-types">Core Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html#validation-types">Validation Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="types.html#validation-functions">Validation Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#validation-rules">Validation Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#best-practices">Best Practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html#common-validation-errors">Common Validation Errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="types.html#collection-types">Collection Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html#numpy-integration">NumPy Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html#pandas-integration">Pandas Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html#utility-types">Utility Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html#type-safety-and-fallbacks">Type Safety and Fallbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html#example-type-safe-function">Example: Type-Safe Function</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-geohashing">Basic Geohashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adjacent-geohashes">Adjacent Geohashes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distance-calculations">Distance Calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#statistical-analysis">Statistical Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#geospatial-search">Geospatial Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clustering-by-geohash-prefix">Clustering by Geohash Prefix</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bounding-box-operations">Bounding Box Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#visualizing-bounding-boxes">Visualizing Bounding Boxes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#visualization-examples">Visualization Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-a-single-geohash">Plotting a Single Geohash</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plotting-multiple-geohashes">Plotting Multiple Geohashes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-interactive-maps-with-folium">Creating Interactive Maps with Folium</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-geohash-grid">Creating a Geohash Grid</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-geohash-neighbors">Visualizing Geohash Neighbors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-geohash-precision">Visualizing Geohash Precision</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#core-functions">Core Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#data-types">Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#distance-calculations">Distance Calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#geohash-navigation">Geohash Navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#bounding-box-operations">Bounding Box Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#statistical-functions">Statistical Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#visualization-functions">Visualization Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="blog_posts.html">Blog Posts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="blog_posts.html#pygeohash-new-release-2-1-0">PyGeoHash New Release - 2.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="blog_posts.html#using-cursor-for-library-maintenance">Using Cursor for Library Maintenance</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pygeohash</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Examples</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/examples.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h1>
<p>This section provides practical code examples for common use cases of the PyGeoHash library.</p>
<section id="basic-geohashing">
<h2>Basic Geohashing<a class="headerlink" href="#basic-geohashing" title="Permalink to this heading"></a></h2>
<p>Converting between coordinates and geohashes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>

<span class="c1"># Define some locations</span>
<span class="n">locations</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;San Francisco&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">37.7749</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.4194</span><span class="p">),</span>
    <span class="s2">&quot;New York&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">40.7128</span><span class="p">,</span> <span class="o">-</span><span class="mf">74.0060</span><span class="p">),</span>
    <span class="s2">&quot;Tokyo&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">35.6762</span><span class="p">,</span> <span class="mf">139.6503</span><span class="p">),</span>
    <span class="s2">&quot;Sydney&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">33.8688</span><span class="p">,</span> <span class="mf">151.2093</span><span class="p">),</span>
    <span class="s2">&quot;Rio de Janeiro&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">22.9068</span><span class="p">,</span> <span class="o">-</span><span class="mf">43.1729</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Encode each location with different precision levels</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">)</span> <span class="ow">in</span> <span class="n">locations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">precision</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]:</span>
        <span class="n">geohash</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="n">precision</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Precision </span><span class="si">{</span><span class="n">precision</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">geohash</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Decode a geohash back to coordinates</span>
<span class="n">geohash</span> <span class="o">=</span> <span class="s2">&quot;9q8yyk8yuv&quot;</span>  <span class="c1"># San Francisco with precision 10</span>
<span class="n">location</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">geohash</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Decoded </span><span class="si">{</span><span class="n">geohash</span><span class="si">}</span><span class="s2">: (</span><span class="si">{</span><span class="n">location</span><span class="o">.</span><span class="n">latitude</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">location</span><span class="o">.</span><span class="n">longitude</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># Get exact decoding with error margins</span>
<span class="n">exact</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">decode_exactly</span><span class="p">(</span><span class="n">geohash</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error margins: ±</span><span class="si">{</span><span class="n">exact</span><span class="o">.</span><span class="n">latitude_error</span><span class="si">}</span><span class="s2">° latitude, ±</span><span class="si">{</span><span class="n">exact</span><span class="o">.</span><span class="n">longitude_error</span><span class="si">}</span><span class="s2">° longitude&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="adjacent-geohashes">
<h2>Adjacent Geohashes<a class="headerlink" href="#adjacent-geohashes" title="Permalink to this heading"></a></h2>
<p>Working with adjacent geohashes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>

<span class="c1"># Get adjacent geohashes in all four directions</span>
<span class="n">geohash</span> <span class="o">=</span> <span class="s2">&quot;9q8yyk&quot;</span>  <span class="c1"># San Francisco</span>

<span class="n">adjacent_top</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">geohash</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="n">adjacent_right</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">geohash</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>
<span class="n">adjacent_bottom</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">geohash</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
<span class="n">adjacent_left</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">geohash</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Original: </span><span class="si">{</span><span class="n">geohash</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Top: </span><span class="si">{</span><span class="n">adjacent_top</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Right: </span><span class="si">{</span><span class="n">adjacent_right</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bottom: </span><span class="si">{</span><span class="n">adjacent_bottom</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Left: </span><span class="si">{</span><span class="n">adjacent_left</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Create a simple 3x3 grid of geohashes</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_simple_grid</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">):</span>
    <span class="n">grid</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
        <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="n">center_geohash</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
        <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">]</span>

    <span class="c1"># Fill in the grid</span>
    <span class="c1"># Top row</span>
    <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>

    <span class="c1"># Middle row</span>
    <span class="n">grid</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">grid</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>

    <span class="c1"># Bottom row</span>
    <span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
    <span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">grid</span>

<span class="c1"># Create and print the grid</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">create_simple_grid</span><span class="p">(</span><span class="n">geohash</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Geohash Grid:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">grid</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="distance-calculations">
<h2>Distance Calculations<a class="headerlink" href="#distance-calculations" title="Permalink to this heading"></a></h2>
<p>Calculating distances between geohashes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>

<span class="c1"># Define some locations with their geohashes</span>
<span class="n">locations</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;San Francisco&quot;</span><span class="p">:</span> <span class="s2">&quot;9q8yyk&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Los Angeles&quot;</span><span class="p">:</span> <span class="s2">&quot;9q5cd&quot;</span><span class="p">,</span>
    <span class="s2">&quot;New York&quot;</span><span class="p">:</span> <span class="s2">&quot;dr5reg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;London&quot;</span><span class="p">:</span> <span class="s2">&quot;gcpvj&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Tokyo&quot;</span><span class="p">:</span> <span class="s2">&quot;xn76ur&quot;</span>
<span class="p">}</span>

<span class="c1"># Calculate distances between San Francisco and other cities</span>
<span class="n">sf</span> <span class="o">=</span> <span class="n">locations</span><span class="p">[</span><span class="s2">&quot;San Francisco&quot;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distances from San Francisco:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">city</span><span class="p">,</span> <span class="n">geohash</span> <span class="ow">in</span> <span class="n">locations</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">city</span> <span class="o">!=</span> <span class="s2">&quot;San Francisco&quot;</span><span class="p">:</span>
        <span class="c1"># Approximate distance (based on matching characters)</span>
        <span class="n">approx_distance</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">geohash_approximate_distance</span><span class="p">(</span><span class="n">sf</span><span class="p">,</span> <span class="n">geohash</span><span class="p">)</span>

        <span class="c1"># More accurate distance (using Haversine formula)</span>
        <span class="n">haversine_distance</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">geohash_haversine_distance</span><span class="p">(</span><span class="n">sf</span><span class="p">,</span> <span class="n">geohash</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">city</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Approximate: </span><span class="si">{</span><span class="n">approx_distance</span><span class="o">/</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> km&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Haversine: </span><span class="si">{</span><span class="n">haversine_distance</span><span class="o">/</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> km&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="statistical-analysis">
<h2>Statistical Analysis<a class="headerlink" href="#statistical-analysis" title="Permalink to this heading"></a></h2>
<p>Using statistical functions with geohashes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>

<span class="c1"># Generate a cluster of geohashes around San Francisco</span>
<span class="k">def</span><span class="w"> </span><span class="nf">generate_cluster</span><span class="p">(</span><span class="n">center_lat</span><span class="p">,</span> <span class="n">center_lng</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">spread</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">geohashes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
        <span class="c1"># Add some random variation</span>
        <span class="n">lat</span> <span class="o">=</span> <span class="n">center_lat</span> <span class="o">+</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="n">spread</span>
        <span class="n">lng</span> <span class="o">=</span> <span class="n">center_lng</span> <span class="o">+</span> <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="n">spread</span>
        <span class="n">geohashes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pgh</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="n">precision</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">geohashes</span>

<span class="c1"># Generate clusters</span>
<span class="n">sf_cluster</span> <span class="o">=</span> <span class="n">generate_cluster</span><span class="p">(</span><span class="mf">37.7749</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.4194</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">spread</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">ny_cluster</span> <span class="o">=</span> <span class="n">generate_cluster</span><span class="p">(</span><span class="mf">40.7128</span><span class="p">,</span> <span class="o">-</span><span class="mf">74.0060</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">spread</span><span class="o">=</span><span class="mf">0.08</span><span class="p">)</span>

<span class="c1"># Analyze San Francisco cluster</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;San Francisco Cluster Analysis:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of points: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Find the mean position</span>
<span class="n">mean_position</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span>
<span class="n">mean_coords</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">mean_position</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean position: </span><span class="si">{</span><span class="n">mean_position</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">mean_coords</span><span class="o">.</span><span class="n">latitude</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">mean_coords</span><span class="o">.</span><span class="n">longitude</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># Find cardinal extremes</span>
<span class="n">north</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">northern</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span>
<span class="n">south</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">southern</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span>
<span class="n">east</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">eastern</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span>
<span class="n">west</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">western</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Northernmost: </span><span class="si">{</span><span class="n">north</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Southernmost: </span><span class="si">{</span><span class="n">south</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Easternmost: </span><span class="si">{</span><span class="n">east</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Westernmost: </span><span class="si">{</span><span class="n">west</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Calculate statistical measures</span>
<span class="n">variance</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">variance</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span>
<span class="n">std_dev</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Variance: </span><span class="si">{</span><span class="n">variance</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> m²&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Standard deviation: </span><span class="si">{</span><span class="n">std_dev</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> m&quot;</span><span class="p">)</span>

<span class="c1"># Compare the two clusters</span>
<span class="n">sf_mean</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sf_cluster</span><span class="p">)</span>
<span class="n">ny_mean</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">ny_cluster</span><span class="p">)</span>

<span class="n">distance</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">geohash_haversine_distance</span><span class="p">(</span><span class="n">sf_mean</span><span class="p">,</span> <span class="n">ny_mean</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Distance between cluster means: </span><span class="si">{</span><span class="n">distance</span><span class="o">/</span><span class="mi">1000</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> km&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="geospatial-search">
<h2>Geospatial Search<a class="headerlink" href="#geospatial-search" title="Permalink to this heading"></a></h2>
<p>Implementing a simple geospatial search using geohashes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">class</span><span class="w"> </span><span class="nc">SimpleGeohashIndex</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A simple geospatial index using geohashes.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">precision</span> <span class="o">=</span> <span class="n">precision</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a point to the index.&quot;&quot;&quot;</span>
        <span class="n">geohash</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">precision</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">geohash</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="nb">id</span><span class="p">,</span>
            <span class="s1">&#39;lat&#39;</span><span class="p">:</span> <span class="n">lat</span><span class="p">,</span>
            <span class="s1">&#39;lng&#39;</span><span class="p">:</span> <span class="n">lng</span><span class="p">,</span>
            <span class="s1">&#39;geohash&#39;</span><span class="p">:</span> <span class="n">geohash</span><span class="p">,</span>
            <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">data</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="p">})</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">search_nearby</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">radius_km</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Search for points near the given coordinates.</span>
<span class="sd">        This is a simplified approach that checks adjacent cells.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Get the geohash of the search point</span>
        <span class="n">center_geohash</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">precision</span><span class="p">)</span>

        <span class="c1"># Get adjacent geohashes</span>
        <span class="n">adjacent</span> <span class="o">=</span> <span class="p">[</span><span class="n">center_geohash</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">direction</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">]:</span>
            <span class="n">adjacent</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="n">direction</span><span class="p">))</span>

        <span class="c1"># Add diagonal adjacents</span>
        <span class="n">top</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">)</span>
        <span class="n">right</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">)</span>
        <span class="n">left</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center_geohash</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span>

        <span class="n">adjacent</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">))</span>     <span class="c1"># top-right</span>
        <span class="n">adjacent</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">))</span>  <span class="c1"># bottom-right</span>
        <span class="n">adjacent</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">bottom</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">))</span>   <span class="c1"># bottom-left</span>
        <span class="n">adjacent</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">))</span>      <span class="c1"># top-left</span>

        <span class="c1"># Collect all points in the search geohashes</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">gh</span> <span class="ow">in</span> <span class="n">adjacent</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">gh</span><span class="p">,</span> <span class="p">[]):</span>
                <span class="c1"># Calculate actual distance</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">geohash_haversine_distance</span><span class="p">(</span>
                    <span class="n">pgh</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">precision</span><span class="p">),</span>
                    <span class="n">point</span><span class="p">[</span><span class="s1">&#39;geohash&#39;</span><span class="p">]</span>
                <span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span>  <span class="c1"># Convert to km</span>

                <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="n">radius_km</span><span class="p">:</span>
                    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                        <span class="o">**</span><span class="n">point</span><span class="p">,</span>
                        <span class="s1">&#39;distance_km&#39;</span><span class="p">:</span> <span class="n">distance</span>
                    <span class="p">})</span>

        <span class="c1"># Sort by distance</span>
        <span class="n">results</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;distance_km&#39;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">results</span>

<span class="c1"># Example usage</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">SimpleGeohashIndex</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Add some points</span>
<span class="n">cities</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;San Francisco&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">37.7749</span><span class="p">,</span> <span class="s2">&quot;lng&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">122.4194</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Oakland&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">37.8044</span><span class="p">,</span> <span class="s2">&quot;lng&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">122.2711</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Berkeley&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">37.8715</span><span class="p">,</span> <span class="s2">&quot;lng&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">122.2730</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;San Jose&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">37.3382</span><span class="p">,</span> <span class="s2">&quot;lng&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">121.8863</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">:</span> <span class="mf">34.0522</span><span class="p">,</span> <span class="s2">&quot;lng&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">118.2437</span><span class="p">}</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">city</span> <span class="ow">in</span> <span class="n">cities</span><span class="p">:</span>
    <span class="n">index</span><span class="o">.</span><span class="n">add_point</span><span class="p">(</span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="n">city</span><span class="p">[</span><span class="s2">&quot;lat&quot;</span><span class="p">],</span> <span class="n">city</span><span class="p">[</span><span class="s2">&quot;lng&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">city</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]})</span>

<span class="c1"># Search for cities within 50km of San Francisco</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">search_nearby</span><span class="p">(</span><span class="mf">37.7749</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.4194</span><span class="p">,</span> <span class="n">radius_km</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cities within 50km of San Francisco:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;distance_km&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> km&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="clustering-by-geohash-prefix">
<h2>Clustering by Geohash Prefix<a class="headerlink" href="#clustering-by-geohash-prefix" title="Permalink to this heading"></a></h2>
<p>Clustering points by their geohash prefixes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span><span class="w"> </span><span class="nf">cluster_by_geohash_prefix</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">prefix_length</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Cluster points by their geohash prefixes.</span>

<span class="sd">    Args:</span>
<span class="sd">        points: List of (lat, lng) tuples</span>
<span class="sd">        prefix_length: Length of geohash prefix to use for clustering</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dictionary mapping geohash prefixes to lists of points</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clusters</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">points</span><span class="p">):</span>
        <span class="n">geohash</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="n">geohash</span><span class="p">[:</span><span class="n">prefix_length</span><span class="p">]</span>
        <span class="n">clusters</span><span class="p">[</span><span class="n">prefix</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">i</span><span class="p">,</span>
            <span class="s1">&#39;lat&#39;</span><span class="p">:</span> <span class="n">lat</span><span class="p">,</span>
            <span class="s1">&#39;lng&#39;</span><span class="p">:</span> <span class="n">lng</span><span class="p">,</span>
            <span class="s1">&#39;geohash&#39;</span><span class="p">:</span> <span class="n">geohash</span>
        <span class="p">})</span>

    <span class="k">return</span> <span class="n">clusters</span>

<span class="c1"># Generate some random points around the world</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>  <span class="c1"># For reproducibility</span>

<span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">lat</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
    <span class="n">lng</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span><span class="p">)</span>
    <span class="n">points</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">))</span>

<span class="c1"># Cluster the points</span>
<span class="n">clusters</span> <span class="o">=</span> <span class="n">cluster_by_geohash_prefix</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">prefix_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Print the clusters</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">clusters</span><span class="p">)</span><span class="si">}</span><span class="s2"> clusters:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">points</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">clusters</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cluster </span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span><span class="si">}</span><span class="s2"> points&quot;</span><span class="p">)</span>

<span class="c1"># Print details of the largest cluster</span>
<span class="n">largest_cluster</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">clusters</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Details of largest cluster (</span><span class="si">{</span><span class="n">largest_cluster</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">):&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">largest_cluster</span><span class="p">[</span><span class="mi">1</span><span class="p">][:</span><span class="mi">5</span><span class="p">]:</span>  <span class="c1"># Show first 5 points</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Point </span><span class="si">{</span><span class="n">point</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: (</span><span class="si">{</span><span class="n">point</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">point</span><span class="p">[</span><span class="s1">&#39;lng&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">largest_cluster</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  ... and </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">largest_cluster</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">5</span><span class="si">}</span><span class="s2"> more points&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p># Get the standard deviation of the geohashes
std_dev = pgh.std(geohashes)
print(f”Standard deviation: {std_dev:.2f} meters”)</p>
</section>
<section id="bounding-box-operations">
<h2>Bounding Box Operations<a class="headerlink" href="#bounding-box-operations" title="Permalink to this heading"></a></h2>
<p>Working with geohash bounding boxes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>

<span class="c1"># Get bounding box for a geohash</span>
<span class="n">geohash</span> <span class="o">=</span> <span class="s2">&quot;9q8yy&quot;</span>  <span class="c1"># San Francisco area</span>
<span class="n">bbox</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_bounding_box</span><span class="p">(</span><span class="n">geohash</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bounding box for </span><span class="si">{</span><span class="n">geohash</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Southwest corner: (</span><span class="si">{</span><span class="n">bbox</span><span class="o">.</span><span class="n">min_lat</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">bbox</span><span class="o">.</span><span class="n">min_lon</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Northeast corner: (</span><span class="si">{</span><span class="n">bbox</span><span class="o">.</span><span class="n">max_lat</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">bbox</span><span class="o">.</span><span class="n">max_lon</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

<span class="c1"># Check if a point is within the bounding box</span>
<span class="n">test_points</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;Golden Gate Bridge&quot;</span><span class="p">,</span> <span class="mf">37.8199</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.4783</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;Fisherman&#39;s Wharf&quot;</span><span class="p">,</span> <span class="mf">37.8080</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.4177</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;San Jose&quot;</span><span class="p">,</span> <span class="mf">37.3382</span><span class="p">,</span> <span class="o">-</span><span class="mf">121.8863</span><span class="p">)</span>
<span class="p">]</span>

<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span> <span class="ow">in</span> <span class="n">test_points</span><span class="p">:</span>
    <span class="n">is_in_box</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">is_point_in_box</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">bbox</span><span class="p">)</span>
    <span class="n">is_in_geohash</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">is_point_in_geohash</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">geohash</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">lat</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">lon</span><span class="si">}</span><span class="s2">):&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  In bounding box: </span><span class="si">{</span><span class="n">is_in_box</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  In geohash: </span><span class="si">{</span><span class="n">is_in_geohash</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Find all geohashes within a custom bounding box</span>
<span class="n">custom_bbox</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">BoundingBox</span><span class="p">(</span>
    <span class="n">min_lat</span><span class="o">=</span><span class="mf">37.75</span><span class="p">,</span> <span class="n">min_lon</span><span class="o">=-</span><span class="mf">122.45</span><span class="p">,</span>
    <span class="n">max_lat</span><span class="o">=</span><span class="mf">37.78</span><span class="p">,</span> <span class="n">max_lon</span><span class="o">=-</span><span class="mf">122.40</span>
<span class="p">)</span>

<span class="c1"># Get geohashes at different precision levels</span>
<span class="k">for</span> <span class="n">precision</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]:</span>
    <span class="n">geohashes</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">geohashes_in_box</span><span class="p">(</span><span class="n">custom_bbox</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="n">precision</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Precision </span><span class="si">{</span><span class="n">precision</span><span class="si">}</span><span class="s2">: found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">geohashes</span><span class="p">)</span><span class="si">}</span><span class="s2"> geohashes&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">precision</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Geohashes: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">geohashes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Check if two bounding boxes intersect</span>
<span class="n">bbox1</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_bounding_box</span><span class="p">(</span><span class="s2">&quot;9q8yyk&quot;</span><span class="p">)</span>
<span class="n">bbox2</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_bounding_box</span><span class="p">(</span><span class="s2">&quot;9q8yym&quot;</span><span class="p">)</span>
<span class="n">bbox3</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_bounding_box</span><span class="p">(</span><span class="s2">&quot;dr5r&quot;</span><span class="p">)</span>  <span class="c1"># New York</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intersection of 9q8yyk and 9q8yym: </span><span class="si">{</span><span class="n">pgh</span><span class="o">.</span><span class="n">do_boxes_intersect</span><span class="p">(</span><span class="n">bbox1</span><span class="p">,</span><span class="w"> </span><span class="n">bbox2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Intersection of 9q8yyk and dr5r: </span><span class="si">{</span><span class="n">pgh</span><span class="o">.</span><span class="n">do_boxes_intersect</span><span class="p">(</span><span class="n">bbox1</span><span class="p">,</span><span class="w"> </span><span class="n">bbox3</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<section id="visualizing-bounding-boxes">
<h3>Visualizing Bounding Boxes<a class="headerlink" href="#visualizing-bounding-boxes" title="Permalink to this heading"></a></h3>
<p>Visualizing geohash bounding boxes with matplotlib:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.patches</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">patches</span>

<span class="c1"># Define a base geohash and get its bounding box</span>
<span class="n">base_geohash</span> <span class="o">=</span> <span class="s2">&quot;9q8yy&quot;</span>  <span class="c1"># San Francisco area</span>
<span class="n">base_bbox</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_bounding_box</span><span class="p">(</span><span class="n">base_geohash</span><span class="p">)</span>

<span class="c1"># Find geohashes within this area at a higher precision</span>
<span class="n">geohashes</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">geohashes_in_box</span><span class="p">(</span><span class="n">base_bbox</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

<span class="c1"># Create a figure and axis</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1"># Plot the base bounding box</span>
<span class="n">base_width</span> <span class="o">=</span> <span class="n">base_bbox</span><span class="o">.</span><span class="n">max_lon</span> <span class="o">-</span> <span class="n">base_bbox</span><span class="o">.</span><span class="n">min_lon</span>
<span class="n">base_height</span> <span class="o">=</span> <span class="n">base_bbox</span><span class="o">.</span><span class="n">max_lat</span> <span class="o">-</span> <span class="n">base_bbox</span><span class="o">.</span><span class="n">min_lat</span>
<span class="n">base_rect</span> <span class="o">=</span> <span class="n">patches</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">(</span>
    <span class="p">(</span><span class="n">base_bbox</span><span class="o">.</span><span class="n">min_lon</span><span class="p">,</span> <span class="n">base_bbox</span><span class="o">.</span><span class="n">min_lat</span><span class="p">),</span>
    <span class="n">base_width</span><span class="p">,</span> <span class="n">base_height</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Base Geohash: </span><span class="si">{</span><span class="n">base_geohash</span><span class="si">}</span><span class="s1">&#39;</span>
<span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">base_rect</span><span class="p">)</span>

<span class="c1"># Plot each geohash&#39;s bounding box</span>
<span class="k">for</span> <span class="n">gh</span> <span class="ow">in</span> <span class="n">geohashes</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>  <span class="c1"># Limit to first 10 for clarity</span>
    <span class="n">gh_bbox</span> <span class="o">=</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_bounding_box</span><span class="p">(</span><span class="n">gh</span><span class="p">)</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">gh_bbox</span><span class="o">.</span><span class="n">max_lon</span> <span class="o">-</span> <span class="n">gh_bbox</span><span class="o">.</span><span class="n">min_lon</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">gh_bbox</span><span class="o">.</span><span class="n">max_lat</span> <span class="o">-</span> <span class="n">gh_bbox</span><span class="o">.</span><span class="n">min_lat</span>

    <span class="n">rect</span> <span class="o">=</span> <span class="n">patches</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">(</span>
        <span class="p">(</span><span class="n">gh_bbox</span><span class="o">.</span><span class="n">min_lon</span><span class="p">,</span> <span class="n">gh_bbox</span><span class="o">.</span><span class="n">min_lat</span><span class="p">),</span>
        <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span>
        <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span>
    <span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>

    <span class="c1"># Add geohash label at center of box</span>
    <span class="n">center_x</span> <span class="o">=</span> <span class="n">gh_bbox</span><span class="o">.</span><span class="n">min_lon</span> <span class="o">+</span> <span class="n">width</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">center_y</span> <span class="o">=</span> <span class="n">gh_bbox</span><span class="o">.</span><span class="n">min_lat</span> <span class="o">+</span> <span class="n">height</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">,</span> <span class="n">gh</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="c1"># Set plot limits and labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">base_bbox</span><span class="o">.</span><span class="n">min_lon</span> <span class="o">-</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">base_bbox</span><span class="o">.</span><span class="n">max_lon</span> <span class="o">+</span> <span class="mf">0.05</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">base_bbox</span><span class="o">.</span><span class="n">min_lat</span> <span class="o">-</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">base_bbox</span><span class="o">.</span><span class="n">max_lat</span> <span class="o">+</span> <span class="mf">0.05</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Longitude&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Latitude&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Geohashes within </span><span class="si">{</span><span class="n">base_geohash</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="visualization-examples">
<h2>Visualization Examples<a class="headerlink" href="#visualization-examples" title="Permalink to this heading"></a></h2>
<p>PyGeoHash provides visualization capabilities through the optional <code class="docutils literal notranslate"><span class="pre">viz</span></code> module.
To use these functions, you need to install the visualization dependencies:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pygeohash<span class="o">[</span>viz<span class="o">]</span>
</pre></div>
</div>
<p>You can generate all the example visualizations shown below using the provided Makefile command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install visualization dependencies</span>
make<span class="w"> </span>install-viz

<span class="c1"># Generate visualization examples</span>
make<span class="w"> </span>viz-examples
</pre></div>
</div>
<p>This will create static images and interactive maps in the <code class="docutils literal notranslate"><span class="pre">docs/source/_static/images</span></code> directory.</p>
</section>
<section id="plotting-a-single-geohash">
<h2>Plotting a Single Geohash<a class="headerlink" href="#plotting-a-single-geohash" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygeohash.viz</span><span class="w"> </span><span class="kn">import</span> <span class="n">plot_geohash</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Plot a single geohash</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plot_geohash</span><span class="p">(</span><span class="s2">&quot;9q8yyk&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Plot with center point and label</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plot_geohash</span><span class="p">(</span><span class="s2">&quot;9q8yyk&quot;</span><span class="p">,</span> <span class="n">show_center</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_label</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="_images/single_geohash.png"><img alt="Single geohash visualization" src="_images/single_geohash.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">A single geohash (9q8yyk) plotted on a map</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="_images/single_geohash_labeled.png"><img alt="Single geohash with label and center point" src="_images/single_geohash_labeled.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">A single geohash with its center point and label displayed</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="plotting-multiple-geohashes">
<h2>Plotting Multiple Geohashes<a class="headerlink" href="#plotting-multiple-geohashes" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygeohash.viz</span><span class="w"> </span><span class="kn">import</span> <span class="n">plot_geohashes</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Plot multiple geohashes with default colormap</span>
<span class="n">geohashes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;9q8yyk&quot;</span><span class="p">,</span> <span class="s2">&quot;9q8yym&quot;</span><span class="p">,</span> <span class="s2">&quot;9q8yyj&quot;</span><span class="p">,</span> <span class="s2">&quot;9q8yys&quot;</span><span class="p">]</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plot_geohashes</span><span class="p">(</span><span class="n">geohashes</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Plot with custom colors and labels</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plot_geohashes</span><span class="p">(</span>
    <span class="n">geohashes</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">,</span> <span class="s2">&quot;Work&quot;</span><span class="p">,</span> <span class="s2">&quot;Park&quot;</span><span class="p">,</span> <span class="s2">&quot;Store&quot;</span><span class="p">],</span>
    <span class="n">show_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="_images/multiple_geohashes.png"><img alt="Multiple geohashes visualization" src="_images/multiple_geohashes.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">Multiple geohashes plotted on a map with different colors</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="_images/multiple_geohashes_labeled.png"><img alt="Multiple geohashes with labels" src="_images/multiple_geohashes_labeled.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">Multiple geohashes with custom labels and colors</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="creating-interactive-maps-with-folium">
<h2>Creating Interactive Maps with Folium<a class="headerlink" href="#creating-interactive-maps-with-folium" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygeohash.viz</span><span class="w"> </span><span class="kn">import</span> <span class="n">folium_map</span>

<span class="c1"># Create a map centered on a geohash</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">folium_map</span><span class="p">(</span><span class="n">center_geohash</span><span class="o">=</span><span class="s2">&quot;9q8yyk&quot;</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>

<span class="c1"># Add a single geohash</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_geohash</span><span class="p">(</span><span class="s2">&quot;9q8yyk&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">popup</span><span class="o">=</span><span class="s2">&quot;Home&quot;</span><span class="p">)</span>

<span class="c1"># Add multiple geohashes with different colors</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_geohashes</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;9q8yym&quot;</span><span class="p">,</span> <span class="s2">&quot;9q8yyj&quot;</span><span class="p">,</span> <span class="s2">&quot;9q8yys&quot;</span><span class="p">],</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;orange&quot;</span><span class="p">],</span>
    <span class="n">popups</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Work&quot;</span><span class="p">,</span> <span class="s2">&quot;Park&quot;</span><span class="p">,</span> <span class="s2">&quot;Store&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Save the map to an HTML file</span>
<span class="n">m</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;folium_map.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_0d3d235c610c785eca005cba6f8c8f22 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_0d3d235c610c785eca005cba6f8c8f22" ></div>
        
</body>
<script>
    
    
            var map_0d3d235c610c785eca005cba6f8c8f22 = L.map(
                "map_0d3d235c610c785eca005cba6f8c8f22",
                {
                    center: [37.77, -122.4],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 15,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_a9aecccae8a7753a80549e925f5a0244 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_a9aecccae8a7753a80549e925f5a0244.addTo(map_0d3d235c610c785eca005cba6f8c8f22);
        
    
            var rectangle_dc1bca52338db787995df9d1836814da = L.rectangle(
                [[37.77099609375, -122.420654296875], [37.7764892578125, -122.40966796875]],
                {"bubblingMouseEvents": true, "color": "red", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "red", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 2}
            ).addTo(map_0d3d235c610c785eca005cba6f8c8f22);
        
    
        var popup_927441134cb5dd9edbe293c70bbb86bb = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_05b72378cd1ea0c2443a0b96b4e3e780 = $(`<div id="html_05b72378cd1ea0c2443a0b96b4e3e780" style="width: 100.0%; height: 100.0%;">Home</div>`)[0];
                popup_927441134cb5dd9edbe293c70bbb86bb.setContent(html_05b72378cd1ea0c2443a0b96b4e3e780);
            
        

        rectangle_dc1bca52338db787995df9d1836814da.bindPopup(popup_927441134cb5dd9edbe293c70bbb86bb)
        ;

        
    
    
            rectangle_dc1bca52338db787995df9d1836814da.bindTooltip(
                `<div>
                     Geohash: 9q8yyk
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_afdbe48a6e5d48b831f8ba032c83e5e0 = L.rectangle(
                [[37.7764892578125, -122.420654296875], [37.781982421875, -122.40966796875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "blue", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 2}
            ).addTo(map_0d3d235c610c785eca005cba6f8c8f22);
        
    
        var popup_2ba39a2e6b7c5e90fc6b161fd3734b70 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_8cab1f77ca605f49c04c7840ea179890 = $(`<div id="html_8cab1f77ca605f49c04c7840ea179890" style="width: 100.0%; height: 100.0%;">Work</div>`)[0];
                popup_2ba39a2e6b7c5e90fc6b161fd3734b70.setContent(html_8cab1f77ca605f49c04c7840ea179890);
            
        

        rectangle_afdbe48a6e5d48b831f8ba032c83e5e0.bindPopup(popup_2ba39a2e6b7c5e90fc6b161fd3734b70)
        ;

        
    
    
            rectangle_afdbe48a6e5d48b831f8ba032c83e5e0.bindTooltip(
                `<div>
                     Geohash: 9q8yym
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_b178e99b245db2b65eeda731e205cf3f = L.rectangle(
                [[37.7764892578125, -122.431640625], [37.781982421875, -122.420654296875]],
                {"bubblingMouseEvents": true, "color": "green", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "green", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 2}
            ).addTo(map_0d3d235c610c785eca005cba6f8c8f22);
        
    
        var popup_a36bfba3e88c5313f1abaf4599a6d5df = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_36527a68acf1611baca9360226863a53 = $(`<div id="html_36527a68acf1611baca9360226863a53" style="width: 100.0%; height: 100.0%;">Park</div>`)[0];
                popup_a36bfba3e88c5313f1abaf4599a6d5df.setContent(html_36527a68acf1611baca9360226863a53);
            
        

        rectangle_b178e99b245db2b65eeda731e205cf3f.bindPopup(popup_a36bfba3e88c5313f1abaf4599a6d5df)
        ;

        
    
    
            rectangle_b178e99b245db2b65eeda731e205cf3f.bindTooltip(
                `<div>
                     Geohash: 9q8yyj
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_d6c9fc7ee22d19b196d2c500ed695224 = L.rectangle(
                [[37.77099609375, -122.40966796875], [37.7764892578125, -122.398681640625]],
                {"bubblingMouseEvents": true, "color": "orange", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "orange", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 2}
            ).addTo(map_0d3d235c610c785eca005cba6f8c8f22);
        
    
        var popup_d7df6dd841a69b2c2d1cd2c4dd8e771a = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_fe08a16e1aab87ae9eba0941ccabbd3f = $(`<div id="html_fe08a16e1aab87ae9eba0941ccabbd3f" style="width: 100.0%; height: 100.0%;">Store</div>`)[0];
                popup_d7df6dd841a69b2c2d1cd2c4dd8e771a.setContent(html_fe08a16e1aab87ae9eba0941ccabbd3f);
            
        

        rectangle_d6c9fc7ee22d19b196d2c500ed695224.bindPopup(popup_d7df6dd841a69b2c2d1cd2c4dd8e771a)
        ;

        
    
    
            rectangle_d6c9fc7ee22d19b196d2c500ed695224.bindTooltip(
                `<div>
                     Geohash: 9q8yys
                 </div>`,
                {
  "sticky": true,
}
            );
        
</script>
</html>
</section>
<section id="creating-a-geohash-grid">
<h2>Creating a Geohash Grid<a class="headerlink" href="#creating-a-geohash-grid" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygeohash.viz</span><span class="w"> </span><span class="kn">import</span> <span class="n">folium_map</span>

<span class="c1"># Create a map</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">folium_map</span><span class="p">(</span><span class="n">center_geohash</span><span class="o">=</span><span class="s2">&quot;9q8y&quot;</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

<span class="c1"># Add a geohash grid at precision 5</span>
<span class="n">m</span><span class="o">.</span><span class="n">add_geohash_grid</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">fill_opacity</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

<span class="c1"># Save the map to an HTML file</span>
<span class="n">m</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;folium_grid.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_5208a72976812c4b284b992c95b46285 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_5208a72976812c4b284b992c95b46285" ></div>
        
</body>
<script>
    
    
            var map_5208a72976812c4b284b992c95b46285 = L.map(
                "map_5208a72976812c4b284b992c95b46285",
                {
                    center: [38.0, -123.0],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 12,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );

            

        
    
            var tile_layer_336e5e5f96e4705835845741fda3a9ab = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_336e5e5f96e4705835845741fda3a9ab.addTo(map_5208a72976812c4b284b992c95b46285);
        
    
            var rectangle_e31184f15e8e26bfe3733fa70e1a4e56 = L.rectangle(
                [[37.9248046875, -123.0029296875], [37.96875, -122.958984375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "b", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_1cd916d4fe1bf764ac09b8ef5975b7f6 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_768cafb6c7273ea22e242b2d6c7bddf7 = $(`<div id="html_768cafb6c7273ea22e242b2d6c7bddf7" style="width: 100.0%; height: 100.0%;">Geohash: 9q8xc</div>`)[0];
                popup_1cd916d4fe1bf764ac09b8ef5975b7f6.setContent(html_768cafb6c7273ea22e242b2d6c7bddf7);
            
        

        rectangle_e31184f15e8e26bfe3733fa70e1a4e56.bindPopup(popup_1cd916d4fe1bf764ac09b8ef5975b7f6)
        ;

        
    
    
            rectangle_e31184f15e8e26bfe3733fa70e1a4e56.bindTooltip(
                `<div>
                     Geohash: 9q8xc
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_08e7851d8dae8cabc3ab792bb93adecc = L.rectangle(
                [[37.9248046875, -123.046875], [37.96875, -123.0029296875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "l", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_e3cc286cc8a8200d523b4851083fe64b = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_155d80e8a78f2823b96ab1e3b02848ca = $(`<div id="html_155d80e8a78f2823b96ab1e3b02848ca" style="width: 100.0%; height: 100.0%;">Geohash: 9q8xb</div>`)[0];
                popup_e3cc286cc8a8200d523b4851083fe64b.setContent(html_155d80e8a78f2823b96ab1e3b02848ca);
            
        

        rectangle_08e7851d8dae8cabc3ab792bb93adecc.bindPopup(popup_e3cc286cc8a8200d523b4851083fe64b)
        ;

        
    
    
            rectangle_08e7851d8dae8cabc3ab792bb93adecc.bindTooltip(
                `<div>
                     Geohash: 9q8xb
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_da2706c3e61edb29734e4ea1a7d3abbb = L.rectangle(
                [[37.880859375, -122.9150390625], [37.9248046875, -122.87109375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "u", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_6d6a43079b3ee88a5d65a294fd4f66f8 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_7ee35599492d52f27a84a297af11a769 = $(`<div id="html_7ee35599492d52f27a84a297af11a769" style="width: 100.0%; height: 100.0%;">Geohash: 9q8xe</div>`)[0];
                popup_6d6a43079b3ee88a5d65a294fd4f66f8.setContent(html_7ee35599492d52f27a84a297af11a769);
            
        

        rectangle_da2706c3e61edb29734e4ea1a7d3abbb.bindPopup(popup_6d6a43079b3ee88a5d65a294fd4f66f8)
        ;

        
    
    
            rectangle_da2706c3e61edb29734e4ea1a7d3abbb.bindTooltip(
                `<div>
                     Geohash: 9q8xe
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_ce060477c50862867efc7f618b165279 = L.rectangle(
                [[37.880859375, -122.958984375], [37.9248046875, -122.9150390625]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "e", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_ae0271ea459a7e2b4cc49a454a27ed8a = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_d408acdbf65bb5bc2ca40b4e679a8b75 = $(`<div id="html_d408acdbf65bb5bc2ca40b4e679a8b75" style="width: 100.0%; height: 100.0%;">Geohash: 9q8xd</div>`)[0];
                popup_ae0271ea459a7e2b4cc49a454a27ed8a.setContent(html_d408acdbf65bb5bc2ca40b4e679a8b75);
            
        

        rectangle_ce060477c50862867efc7f618b165279.bindPopup(popup_ae0271ea459a7e2b4cc49a454a27ed8a)
        ;

        
    
    
            rectangle_ce060477c50862867efc7f618b165279.bindTooltip(
                `<div>
                     Geohash: 9q8xd
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_7aee8d83d7e6d24c5571da4a19502100 = L.rectangle(
                [[37.9248046875, -122.9150390625], [37.96875, -122.87109375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "b", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_318dad65f2a67118e20379b1b6e4d7bd = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_65cf57a46ae01ea8569e18c61e11385d = $(`<div id="html_65cf57a46ae01ea8569e18c61e11385d" style="width: 100.0%; height: 100.0%;">Geohash: 9q8xg</div>`)[0];
                popup_318dad65f2a67118e20379b1b6e4d7bd.setContent(html_65cf57a46ae01ea8569e18c61e11385d);
            
        

        rectangle_7aee8d83d7e6d24c5571da4a19502100.bindPopup(popup_318dad65f2a67118e20379b1b6e4d7bd)
        ;

        
    
    
            rectangle_7aee8d83d7e6d24c5571da4a19502100.bindTooltip(
                `<div>
                     Geohash: 9q8xg
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_f5ccbc7fa1301ac10bdf5de1dccbbe17 = L.rectangle(
                [[37.9248046875, -122.958984375], [37.96875, -122.9150390625]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "l", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_8b69e0f1c82647c0ae3f11622238a361 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c966a1af7c111a36c1e74a349e5112f7 = $(`<div id="html_c966a1af7c111a36c1e74a349e5112f7" style="width: 100.0%; height: 100.0%;">Geohash: 9q8xf</div>`)[0];
                popup_8b69e0f1c82647c0ae3f11622238a361.setContent(html_c966a1af7c111a36c1e74a349e5112f7);
            
        

        rectangle_f5ccbc7fa1301ac10bdf5de1dccbbe17.bindPopup(popup_8b69e0f1c82647c0ae3f11622238a361)
        ;

        
    
    
            rectangle_f5ccbc7fa1301ac10bdf5de1dccbbe17.bindTooltip(
                `<div>
                     Geohash: 9q8xf
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_a115c98127b519f0ea228772ae6f00f6 = L.rectangle(
                [[38.056640625, -123.0029296875], [38.1005859375, -122.958984375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "u", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_c7cf57fb4cbd7547cc9a19fd0e6ddf55 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_9ab756a2fe78ef593649b06fd4a6786d = $(`<div id="html_9ab756a2fe78ef593649b06fd4a6786d" style="width: 100.0%; height: 100.0%;">Geohash: 9qb89</div>`)[0];
                popup_c7cf57fb4cbd7547cc9a19fd0e6ddf55.setContent(html_9ab756a2fe78ef593649b06fd4a6786d);
            
        

        rectangle_a115c98127b519f0ea228772ae6f00f6.bindPopup(popup_c7cf57fb4cbd7547cc9a19fd0e6ddf55)
        ;

        
    
    
            rectangle_a115c98127b519f0ea228772ae6f00f6.bindTooltip(
                `<div>
                     Geohash: 9qb89
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_955cff435587c89514f93b88aedef6d8 = L.rectangle(
                [[38.056640625, -123.046875], [38.1005859375, -123.0029296875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "e", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_450f7342f6600710d220fd598d3fc468 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_330fb0a71e573606f8d9c43cec09e6c3 = $(`<div id="html_330fb0a71e573606f8d9c43cec09e6c3" style="width: 100.0%; height: 100.0%;">Geohash: 9qb88</div>`)[0];
                popup_450f7342f6600710d220fd598d3fc468.setContent(html_330fb0a71e573606f8d9c43cec09e6c3);
            
        

        rectangle_955cff435587c89514f93b88aedef6d8.bindPopup(popup_450f7342f6600710d220fd598d3fc468)
        ;

        
    
    
            rectangle_955cff435587c89514f93b88aedef6d8.bindTooltip(
                `<div>
                     Geohash: 9qb88
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_f8bea041e23ed02750d91149e4463833 = L.rectangle(
                [[38.0126953125, -123.0029296875], [38.056640625, -122.958984375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "b", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_a47c6c22e319fc22c698443402df2d3e = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_333b7b4114c8cbedbbed87f154d4c7f4 = $(`<div id="html_333b7b4114c8cbedbbed87f154d4c7f4" style="width: 100.0%; height: 100.0%;">Geohash: 9qb83</div>`)[0];
                popup_a47c6c22e319fc22c698443402df2d3e.setContent(html_333b7b4114c8cbedbbed87f154d4c7f4);
            
        

        rectangle_f8bea041e23ed02750d91149e4463833.bindPopup(popup_a47c6c22e319fc22c698443402df2d3e)
        ;

        
    
    
            rectangle_f8bea041e23ed02750d91149e4463833.bindTooltip(
                `<div>
                     Geohash: 9qb83
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_46ee6a01dce581d1c1c015ff4442ed29 = L.rectangle(
                [[38.0126953125, -123.046875], [38.056640625, -123.0029296875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "l", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_25eb184ea7525144a452c009b21fec1f = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_9ade60c7c75f915e0dd4aa0904f8b040 = $(`<div id="html_9ade60c7c75f915e0dd4aa0904f8b040" style="width: 100.0%; height: 100.0%;">Geohash: 9qb82</div>`)[0];
                popup_25eb184ea7525144a452c009b21fec1f.setContent(html_9ade60c7c75f915e0dd4aa0904f8b040);
            
        

        rectangle_46ee6a01dce581d1c1c015ff4442ed29.bindPopup(popup_25eb184ea7525144a452c009b21fec1f)
        ;

        
    
    
            rectangle_46ee6a01dce581d1c1c015ff4442ed29.bindTooltip(
                `<div>
                     Geohash: 9qb82
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_2fdcc699d868cfc4b96840ec83d13502 = L.rectangle(
                [[37.96875, -123.0029296875], [38.0126953125, -122.958984375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "u", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_0d4f2212ffd1d489edb6eab903051eb4 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_de48d8b43be36f4bd987b73ad98e938e = $(`<div id="html_de48d8b43be36f4bd987b73ad98e938e" style="width: 100.0%; height: 100.0%;">Geohash: 9qb81</div>`)[0];
                popup_0d4f2212ffd1d489edb6eab903051eb4.setContent(html_de48d8b43be36f4bd987b73ad98e938e);
            
        

        rectangle_2fdcc699d868cfc4b96840ec83d13502.bindPopup(popup_0d4f2212ffd1d489edb6eab903051eb4)
        ;

        
    
    
            rectangle_2fdcc699d868cfc4b96840ec83d13502.bindTooltip(
                `<div>
                     Geohash: 9qb81
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_1a125fb38be5ffe4f15b97979ce99410 = L.rectangle(
                [[37.96875, -123.046875], [38.0126953125, -123.0029296875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "e", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_3b0fed4073f7a64f8fc41d8e55e28a3e = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_3cbc89dda0c0399b744086a26fb26ebd = $(`<div id="html_3cbc89dda0c0399b744086a26fb26ebd" style="width: 100.0%; height: 100.0%;">Geohash: 9qb80</div>`)[0];
                popup_3b0fed4073f7a64f8fc41d8e55e28a3e.setContent(html_3cbc89dda0c0399b744086a26fb26ebd);
            
        

        rectangle_1a125fb38be5ffe4f15b97979ce99410.bindPopup(popup_3b0fed4073f7a64f8fc41d8e55e28a3e)
        ;

        
    
    
            rectangle_1a125fb38be5ffe4f15b97979ce99410.bindTooltip(
                `<div>
                     Geohash: 9qb80
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_eaeda38cef159651670da744716ba4ba = L.rectangle(
                [[38.0126953125, -122.9150390625], [38.056640625, -122.87109375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "b", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_b1b272699c8dba6d9b1744677dafeb00 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c51fe1fd912d860a03c00e14f77afc3b = $(`<div id="html_c51fe1fd912d860a03c00e14f77afc3b" style="width: 100.0%; height: 100.0%;">Geohash: 9qb87</div>`)[0];
                popup_b1b272699c8dba6d9b1744677dafeb00.setContent(html_c51fe1fd912d860a03c00e14f77afc3b);
            
        

        rectangle_eaeda38cef159651670da744716ba4ba.bindPopup(popup_b1b272699c8dba6d9b1744677dafeb00)
        ;

        
    
    
            rectangle_eaeda38cef159651670da744716ba4ba.bindTooltip(
                `<div>
                     Geohash: 9qb87
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_2f7d417acff89665c3c0e9701e932025 = L.rectangle(
                [[38.0126953125, -122.958984375], [38.056640625, -122.9150390625]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "l", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_59e67160f718ef244b599c5cfc47d9e8 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_72b763f5557f1efd40ae33f6c9f07093 = $(`<div id="html_72b763f5557f1efd40ae33f6c9f07093" style="width: 100.0%; height: 100.0%;">Geohash: 9qb86</div>`)[0];
                popup_59e67160f718ef244b599c5cfc47d9e8.setContent(html_72b763f5557f1efd40ae33f6c9f07093);
            
        

        rectangle_2f7d417acff89665c3c0e9701e932025.bindPopup(popup_59e67160f718ef244b599c5cfc47d9e8)
        ;

        
    
    
            rectangle_2f7d417acff89665c3c0e9701e932025.bindTooltip(
                `<div>
                     Geohash: 9qb86
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_7221c6bb911400137c2e5b48dd77d1f5 = L.rectangle(
                [[37.96875, -122.9150390625], [38.0126953125, -122.87109375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "u", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_6e3a548932cdab5f72895c9c9859d291 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_b235d321036347c5b8bd8e7bb5a2ddbc = $(`<div id="html_b235d321036347c5b8bd8e7bb5a2ddbc" style="width: 100.0%; height: 100.0%;">Geohash: 9qb85</div>`)[0];
                popup_6e3a548932cdab5f72895c9c9859d291.setContent(html_b235d321036347c5b8bd8e7bb5a2ddbc);
            
        

        rectangle_7221c6bb911400137c2e5b48dd77d1f5.bindPopup(popup_6e3a548932cdab5f72895c9c9859d291)
        ;

        
    
    
            rectangle_7221c6bb911400137c2e5b48dd77d1f5.bindTooltip(
                `<div>
                     Geohash: 9qb85
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_1d9dfab422722f301058da1aa6295280 = L.rectangle(
                [[37.96875, -122.958984375], [38.0126953125, -122.9150390625]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "e", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_12e53a7bf50fab5226f187155766ab96 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_191ba135aae954b8bb629f0e65062643 = $(`<div id="html_191ba135aae954b8bb629f0e65062643" style="width: 100.0%; height: 100.0%;">Geohash: 9qb84</div>`)[0];
                popup_12e53a7bf50fab5226f187155766ab96.setContent(html_191ba135aae954b8bb629f0e65062643);
            
        

        rectangle_1d9dfab422722f301058da1aa6295280.bindPopup(popup_12e53a7bf50fab5226f187155766ab96)
        ;

        
    
    
            rectangle_1d9dfab422722f301058da1aa6295280.bindTooltip(
                `<div>
                     Geohash: 9qb84
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_ff7592d4968f420230097309d49003f9 = L.rectangle(
                [[38.056640625, -123.0908203125], [38.1005859375, -123.046875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "b", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_a17238770ac0bcaf3139b6d1ef7815b7 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_650e15b8e928d5105e1f1788a081881b = $(`<div id="html_650e15b8e928d5105e1f1788a081881b" style="width: 100.0%; height: 100.0%;">Geohash: 9qb2x</div>`)[0];
                popup_a17238770ac0bcaf3139b6d1ef7815b7.setContent(html_650e15b8e928d5105e1f1788a081881b);
            
        

        rectangle_ff7592d4968f420230097309d49003f9.bindPopup(popup_a17238770ac0bcaf3139b6d1ef7815b7)
        ;

        
    
    
            rectangle_ff7592d4968f420230097309d49003f9.bindTooltip(
                `<div>
                     Geohash: 9qb2x
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_2cd636bda78b1131b09fa9fe4519bd84 = L.rectangle(
                [[37.96875, -123.0908203125], [38.0126953125, -123.046875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "l", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_892b8a445187ec88fd572ea7c0880e3a = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_0ddfb86842f501d0b72bff8ec31b12e3 = $(`<div id="html_0ddfb86842f501d0b72bff8ec31b12e3" style="width: 100.0%; height: 100.0%;">Geohash: 9qb2p</div>`)[0];
                popup_892b8a445187ec88fd572ea7c0880e3a.setContent(html_0ddfb86842f501d0b72bff8ec31b12e3);
            
        

        rectangle_2cd636bda78b1131b09fa9fe4519bd84.bindPopup(popup_892b8a445187ec88fd572ea7c0880e3a)
        ;

        
    
    
            rectangle_2cd636bda78b1131b09fa9fe4519bd84.bindTooltip(
                `<div>
                     Geohash: 9qb2p
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_9706a8086cbebdf0c2e856177f9322a8 = L.rectangle(
                [[38.0126953125, -123.0908203125], [38.056640625, -123.046875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "u", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_dc1434fc0e4a768d18b9f9b54a74ec1f = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c5c61d7f83a5053544056e9d4d47f7e0 = $(`<div id="html_c5c61d7f83a5053544056e9d4d47f7e0" style="width: 100.0%; height: 100.0%;">Geohash: 9qb2r</div>`)[0];
                popup_dc1434fc0e4a768d18b9f9b54a74ec1f.setContent(html_c5c61d7f83a5053544056e9d4d47f7e0);
            
        

        rectangle_9706a8086cbebdf0c2e856177f9322a8.bindPopup(popup_dc1434fc0e4a768d18b9f9b54a74ec1f)
        ;

        
    
    
            rectangle_9706a8086cbebdf0c2e856177f9322a8.bindTooltip(
                `<div>
                     Geohash: 9qb2r
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_83424d4240cbe40fc131a9147891ea0b = L.rectangle(
                [[38.056640625, -122.9150390625], [38.1005859375, -122.87109375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "e", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_e8a9fb8ed4be1cd84a790174d6440ae4 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_c143cd844cbd1461eb0c038fc0337e6a = $(`<div id="html_c143cd844cbd1461eb0c038fc0337e6a" style="width: 100.0%; height: 100.0%;">Geohash: 9qb8e</div>`)[0];
                popup_e8a9fb8ed4be1cd84a790174d6440ae4.setContent(html_c143cd844cbd1461eb0c038fc0337e6a);
            
        

        rectangle_83424d4240cbe40fc131a9147891ea0b.bindPopup(popup_e8a9fb8ed4be1cd84a790174d6440ae4)
        ;

        
    
    
            rectangle_83424d4240cbe40fc131a9147891ea0b.bindTooltip(
                `<div>
                     Geohash: 9qb8e
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_2fb9d4c9409b2743cfc9ad5fd6bae1d0 = L.rectangle(
                [[38.056640625, -122.958984375], [38.1005859375, -122.9150390625]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "b", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_551deb5b98cf6d64913ad37a79012cd7 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_8825ff947fdc590d83b397218d110ea0 = $(`<div id="html_8825ff947fdc590d83b397218d110ea0" style="width: 100.0%; height: 100.0%;">Geohash: 9qb8d</div>`)[0];
                popup_551deb5b98cf6d64913ad37a79012cd7.setContent(html_8825ff947fdc590d83b397218d110ea0);
            
        

        rectangle_2fb9d4c9409b2743cfc9ad5fd6bae1d0.bindPopup(popup_551deb5b98cf6d64913ad37a79012cd7)
        ;

        
    
    
            rectangle_2fb9d4c9409b2743cfc9ad5fd6bae1d0.bindTooltip(
                `<div>
                     Geohash: 9qb8d
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_4adb7264398d9eeb2703d6e17e609f5f = L.rectangle(
                [[37.880859375, -123.0029296875], [37.9248046875, -122.958984375]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "l", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_a075603db26035f21c1bec1407cd0372 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_7668d958ceed404ca5ae6c570e7cd330 = $(`<div id="html_7668d958ceed404ca5ae6c570e7cd330" style="width: 100.0%; height: 100.0%;">Geohash: 9q8x9</div>`)[0];
                popup_a075603db26035f21c1bec1407cd0372.setContent(html_7668d958ceed404ca5ae6c570e7cd330);
            
        

        rectangle_4adb7264398d9eeb2703d6e17e609f5f.bindPopup(popup_a075603db26035f21c1bec1407cd0372)
        ;

        
    
    
            rectangle_4adb7264398d9eeb2703d6e17e609f5f.bindTooltip(
                `<div>
                     Geohash: 9q8x9
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_3cc2feaf9af591afb0a2061aa29a8223 = L.rectangle(
                [[37.880859375, -123.046875], [37.9248046875, -123.0029296875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "u", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_d85c944b110625120c0b871c48ffe705 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_8b05400294491120865f071c747012a1 = $(`<div id="html_8b05400294491120865f071c747012a1" style="width: 100.0%; height: 100.0%;">Geohash: 9q8x8</div>`)[0];
                popup_d85c944b110625120c0b871c48ffe705.setContent(html_8b05400294491120865f071c747012a1);
            
        

        rectangle_3cc2feaf9af591afb0a2061aa29a8223.bindPopup(popup_d85c944b110625120c0b871c48ffe705)
        ;

        
    
    
            rectangle_3cc2feaf9af591afb0a2061aa29a8223.bindTooltip(
                `<div>
                     Geohash: 9q8x8
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_d0dea808a896ac7c3a556188fdf0628e = L.rectangle(
                [[37.9248046875, -123.0908203125], [37.96875, -123.046875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "e", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_226406a9c76a742f7b26d973d013320f = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_8b1e8423c17e7ed6c822594a62442075 = $(`<div id="html_8b1e8423c17e7ed6c822594a62442075" style="width: 100.0%; height: 100.0%;">Geohash: 9q8rz</div>`)[0];
                popup_226406a9c76a742f7b26d973d013320f.setContent(html_8b1e8423c17e7ed6c822594a62442075);
            
        

        rectangle_d0dea808a896ac7c3a556188fdf0628e.bindPopup(popup_226406a9c76a742f7b26d973d013320f)
        ;

        
    
    
            rectangle_d0dea808a896ac7c3a556188fdf0628e.bindTooltip(
                `<div>
                     Geohash: 9q8rz
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
            var rectangle_0547cef949dfebbaec2adb382c0c8b70 = L.rectangle(
                [[37.880859375, -123.0908203125], [37.9248046875, -123.046875]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "b", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 1}
            ).addTo(map_5208a72976812c4b284b992c95b46285);
        
    
        var popup_a8a83d8c8eabbe1ca0a32caefc2d1793 = L.popup({
  "maxWidth": "100%",
});

        
            
                var html_686faf6caa44987e648b84ba102e2b77 = $(`<div id="html_686faf6caa44987e648b84ba102e2b77" style="width: 100.0%; height: 100.0%;">Geohash: 9q8rx</div>`)[0];
                popup_a8a83d8c8eabbe1ca0a32caefc2d1793.setContent(html_686faf6caa44987e648b84ba102e2b77);
            
        

        rectangle_0547cef949dfebbaec2adb382c0c8b70.bindPopup(popup_a8a83d8c8eabbe1ca0a32caefc2d1793)
        ;

        
    
    
            rectangle_0547cef949dfebbaec2adb382c0c8b70.bindTooltip(
                `<div>
                     Geohash: 9q8rx
                 </div>`,
                {
  "sticky": true,
}
            );
        
</script>
</html>
</section>
<section id="visualizing-geohash-neighbors">
<h2>Visualizing Geohash Neighbors<a class="headerlink" href="#visualizing-geohash-neighbors" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygeohash.viz</span><span class="w"> </span><span class="kn">import</span> <span class="n">plot_geohashes</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Get a geohash and its neighbors</span>
<span class="n">center</span> <span class="o">=</span> <span class="s2">&quot;9q8yyk&quot;</span>
<span class="n">neighbors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;North&quot;</span><span class="p">:</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="p">),</span>
    <span class="s2">&quot;East&quot;</span><span class="p">:</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">),</span>
    <span class="s2">&quot;South&quot;</span><span class="p">:</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="s2">&quot;bottom&quot;</span><span class="p">),</span>
    <span class="s2">&quot;West&quot;</span><span class="p">:</span> <span class="n">pgh</span><span class="o">.</span><span class="n">get_adjacent</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Plot the center and its neighbors</span>
<span class="n">all_geohashes</span> <span class="o">=</span> <span class="p">[</span><span class="n">center</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">neighbors</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Center&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">neighbors</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plot_geohashes</span><span class="p">(</span>
    <span class="n">all_geohashes</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">show_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;blue&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">neighbors</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="_images/geohash_neighbors.png"><img alt="Geohash and its neighbors" src="_images/geohash_neighbors.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">A geohash (center) and its neighboring geohashes</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="visualizing-geohash-precision">
<h2>Visualizing Geohash Precision<a class="headerlink" href="#visualizing-geohash-precision" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pygeohash</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pgh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pygeohash.viz</span><span class="w"> </span><span class="kn">import</span> <span class="n">plot_geohashes</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Start with a precision 4 geohash</span>
<span class="n">base_geohash</span> <span class="o">=</span> <span class="s2">&quot;9q8y&quot;</span>

<span class="c1"># Generate geohashes at different precisions</span>
<span class="n">geohashes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">base_geohash</span><span class="p">,</span>
    <span class="n">base_geohash</span> <span class="o">+</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span>
    <span class="n">base_geohash</span> <span class="o">+</span> <span class="s2">&quot;yk&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;Precision </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">gh</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">gh</span> <span class="ow">in</span> <span class="n">geohashes</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plot_geohashes</span><span class="p">(</span>
    <span class="n">geohashes</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
    <span class="n">show_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">],</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="_images/geohash_precision.png"><img alt="Geohashes at different precision levels" src="_images/geohash_precision.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">Geohashes at different precision levels (4, 5, and 6)</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="types.html" class="btn btn-neutral float-left" title="Type System" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016, Will McGinnis.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>